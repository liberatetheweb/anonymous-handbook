\documentclass[unicode,a4paper,12pt,russian,openany]{book}
\usepackage{cmap}
\usepackage[left=1.5cm,right=1.5cm,
    top=1.5cm,bottom=1.5cm,bindingoffset=0cm]{geometry}
\usepackage[dvips]{graphicx}
\usepackage[unicode=true]{hyperref}
\usepackage[cm-default]{fontspec}
\usepackage{xunicode}
\usepackage{xltxtra}
\usepackage{polyglossia}
\usepackage{wrapfig}
\usepackage{listings}
\usepackage{color}
\usepackage{xcolor,mdframed}
\usepackage{subfigure}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{mauve}{rgb}{0.58,0,0.82} 
\lstset{ %
  language=bash,
  backgroundcolor=\color{white},
  frame=single,
  rulecolor=\color{black},
  tabsize=2,
  breaklines=true,
  breakatwhitespace=true, 
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve} 
}
\newenvironment{important}[1][]{%
   \begin{mdframed}[%
      backgroundcolor={red!15}, hidealllines=true,
      skipabove=0.7\baselineskip, skipbelow=0.7\baselineskip,
      splitbottomskip=2pt, splittopskip=4pt, #1]%
   \makebox[0pt]{% ignore the withd of !
      \smash{% ignor the height of !
         \fontsize{32pt}{32pt}\selectfont% make the ! bigger
         \hspace*{-19pt}% move ! to the left
         \raisebox{-2pt}{% move ! up a little
            {\color{red!70!black}\sffamily\bfseries !}% type the bold red !
         }%
      }%
   }%
}{\end{mdframed}}
\defaultfontfeatures{Mapping=tex-text}
\setmainfont{Liberation Serif}
\setmonofont{Liberation Mono}
\setsansfont{Liberation Sans}
\setdefaultlanguage[spelling=modern]{russian}
\setotherlanguage{english}
%%\newfontfamily\cyrillicfont{Liberation Serif}
\setcounter{tocdepth}{3}
\graphicspath{{images/}}
\begin{document}

\input{./title.tex}

\tableofcontents

\input{./part1.tex}
\input{./part2.tex}
\input{./part3.tex}
\input{./part4.tex}
\input{./part5.tex}
\input{./part6.tex}
\input{./part7.tex}
\input{./part8.tex}

\newpage
\bibliographystyle{gost2008}
\bibliography{bibliography}

\end{document}
